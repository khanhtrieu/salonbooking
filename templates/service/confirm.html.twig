{% extends 'base.html.twig' %}

{% block title %}Confirmation{% endblock %}

{% block body %}
    {% if errors|length > 0 %}
        {% for error in errors %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ error }}
            </div>
        {% endfor %}
    {% endif %}
    <div></div>
    <h2>Confirm your booking</h2>
    {% for message in app.flashes('error') %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            {{ message }}
        </div>
    {% endfor %}
    <h5>Personal information: </h5>
    <form action="{{ url('booking_confirm') }}" method="post">
        <div class="Info mb-5">
            Full name: {{customer.firstname}} {{customer.lastname}}<br>
            <b>Your Address (Modifiable): </b><br>
            <div class="form-control">
                <label>Phone:</label>
                <input name="phone" type ="text" size="50" value = '{{customer.phone}}' required="required" class="form-control">
            </div>
            <div class="form-control">
                <label>Street address 1:</label>
                <input name="newAdress" type ="text" size="50" value = '{{customer.address}}' required="required" class="form-control">
            </div>
            <div class="form-control">
                <label>Street address 2: </label>
                <input name ="newAdress2" type ="text" size="50" value = '{{customer.address2}}'  class="form-control">
            </div>
            <div class="form-control">
                <label >City: </label>
                <input name="newCity" type ="text" size="50" value = '{{ customer.city }}' required="required" class="form-control">
            </div>
            <div class="form-control">
                <label>State: </label>
                <input name="newState" type ="text" size="50" value = '{{ customer.state }}' required="required" class="form-control">
            </div>
            <div class="form-control">
                <label>Zipcode: </label>
                <input name="newZipcode" type ="text" size="50" value = '{{ customer.zipcode }}' required="required" class="form-control">
            </div>
        </div>

        <div class ="Info">
            <div class="form-control">
                <h5>Booking information: </h5>
            </div>
            <div class="form-control">
                Store name: {{shopInfo.name}}
            </div>
            <div class="form-control">
                Address: {{shopInfo.address1}} {{shopInfo.address2}}, {{shopInfo.city}}, {{shopInfo.state}}
            </div>
            <div class="form-control">
                Selected services: {{bookingservice}}
            </div>
            <div class="form-control">
                Date: {{date|date('m/d/Y')}}
            </div>
            <div class="form-control">
                Time: {{hourDigit}}:{{minDigit}}
            </div>
        </div>
        <div class="form-control">
            <a class="btn btn-danger" href="{{ url('app_shop') }}" >
                Go back
            </a>
            <button type="submit" class="btn btn-primary">Book your appointment</button>
        </div>

    </form>
{% endblock %}
